{% extends "base.html" %}

{% block content %}
<div class="card">
  <div class="section-title">
    <h2>Level Manager</h2>
    <span class="badge">Review, edit, delete, add</span>
  </div>
  <label for="levelsIfc">IFC file</label>
  <select id="levelsIfc" data-files-select></select>
  <button class="btn" id="loadLevels" style="margin-top: 8px">Load levels</button>
  <div class="status" id="levelsMeta"></div>
</div>

<div class="card">
  <div class="section-title">
    <h3>Levels</h3>
    <span class="badge">Select a level to edit/delete</span>
  </div>
  <div id="levelsTable" class="levels-table"></div>
</div>

<div class="grid">
  <div class="card">
    <div class="section-title">
      <h3>Edit level</h3>
    </div>
    <label>Name</label>
    <input id="levelName" type="text" />
    <label>Description</label>
    <input id="levelDescription" type="text" />
    <div class="two-col" style="margin-top: 8px">
      <div>
        <label>Elevation (Z)</label>
        <input id="levelElevation" type="number" step="any" />
      </div>
      <div>
        <label>Computation height</label>
        <input id="levelCompHeight" type="number" step="any" />
      </div>
    </div>
    <button class="btn" id="updateLevel" style="margin-top: 10px">Update level</button>
    <div class="status" id="levelUpdateStatus"></div>
  </div>

  <div class="card">
    <div class="section-title">
      <h3>Delete level & reassign</h3>
    </div>
    <label for="deleteTarget">Move selected objects to</label>
    <select id="deleteTarget"></select>
    <div class="muted" style="margin-top: 8px">Objects in selected level:</div>
    <div class="checkbox-grid" id="deleteObjects"></div>
    <button class="btn danger" id="deleteLevel" style="margin-top: 10px">Delete level</button>
    <div class="status" id="levelDeleteStatus"></div>
  </div>
</div>

<div class="card">
  <div class="section-title">
    <h3>Add level</h3>
  </div>
  <div class="two-col">
    <div>
      <label>Name</label>
      <input id="newLevelName" type="text" />
    </div>
    <div>
      <label>Elevation (Z)</label>
      <input id="newLevelElevation" type="number" step="any" />
    </div>
  </div>
  <label>Description</label>
  <input id="newLevelDescription" type="text" />
  <label>Computation height</label>
  <input id="newLevelCompHeight" type="number" step="any" />
  <div class="muted" style="margin-top: 8px">Move objects to new level (optional):</div>
  <div class="checkbox-grid" id="addLevelObjects"></div>
  <button class="btn" id="addLevel" style="margin-top: 10px">Add level</button>
  <div class="status" id="levelAddStatus"></div>
</div>
{% endblock %}
