<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IFC Toolkit Hub</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <div class="wrap">
      <nav>
        <div class="nav-header">
          <div class="logo">IFC Toolkit</div>
          <div class="tagline">
            Local-first workflows for IFC cleaning, Excel round-tripping, storey adjustments, and proxy remapping.
          </div>
        </div>
        <div class="nav-tree" aria-label="Tool navigation">
          <details class="nav-dropdown" open>
            <summary class="nav-dropdown-summary">
              <span class="nav-hamburger" aria-hidden="true">☰</span>
              <a class="nav-link nav-root-link {% if active=='upload' %}active{% endif %}" href="/">
                Upload & Session
              </a>
            </summary>
            <div class="nav-dropdown-menu">
              <a class="nav-link nav-child {% if active=='files' %}active{% endif %}" href="/files">
                Session Files Download
              </a>
            </div>
          </details>
          <details class="nav-dropdown">
            <summary class="nav-dropdown-summary">
              <span class="nav-hamburger" aria-hidden="true">☰</span>
              <span class="nav-link nav-root-link nav-label">Tools</span>
            </summary>
            <div class="nav-dropdown-menu">
              <a class="nav-link nav-child {% if active=='excel' %}active{% endif %}" href="/excel">
                IFC to Excel (Extract and Update)
              </a>
              <a class="nav-link nav-child {% if active=='cleaner' %}active{% endif %}" href="/cleaner">
                Pset Purge (Cleaner)
              </a>
              <a class="nav-link nav-child {% if active=='storeys' %}active{% endif %}" href="/storeys">
                Storey & Global Z Control
              </a>
              <a class="nav-link nav-child {% if active=='levels' %}active{% endif %}" href="/levels">
                Level Manager
              </a>
              <a class="nav-link nav-child {% if active=='proxy' %}active{% endif %}" href="/proxy">
                Proxy to IFCClass
              </a>
              <a class="nav-link nav-child {% if active=='data-extractor' %}active{% endif %}" href="/data-extractor">
                IFC_DataExtractor (CSV Data Model)
              </a>
            </div>
          </details>
          <details class="nav-dropdown">
            <summary class="nav-dropdown-summary">
              <span class="nav-hamburger" aria-hidden="true">☰</span>
              <span class="nav-link nav-root-link nav-label">WIP</span>
            </summary>
            <div class="nav-dropdown-menu">
              <a class="nav-link nav-child {% if active=='presentation-layer' %}active{% endif %}" href="/presentation-layer">
                Presentation Layer Purge
              </a>
              <a class="nav-link nav-child {% if active=='step2ifc' %}active{% endif %}" href="/step2ifc">
                STEP to IFC
              </a>
              <a class="nav-link nav-child {% if active=='model-checking' %}active{% endif %}" href="/model-checking">
                Model Checking
              </a>
              <a class="nav-link nav-child {% if active=='mappings' %}active{% endif %}" href="/admin/mappings">
                Admin / Mapping
              </a>
            </div>
          </details>
        </div>
        <div class="session-badge" data-session-badge>Session establishing…</div>
      </nav>

      <div class="processing-bar" data-processing-bar aria-live="polite">
        <div class="processing-label" data-processing-label>Processing files…</div>
        <div class="processing-track" role="progressbar" aria-valuetext="Processing">
          <div class="processing-fill"></div>
        </div>
      </div>

      <main>
        {% block content %}{% endblock %}
      </main>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
